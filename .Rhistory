knitr::opts_chunk$set(echo = TRUE)
summary(cars)
knitr::opts_chunk$set(echo = TRUE)
pacman::p_load(lubridate, tidyverse, ggplot2, dplyr, data.table, corrplot, naniar, grid, ggthemes, gifski, knitr, RColorBrewer, cowplot, ggrepel, gridExtra, scales, plotly, geosphere)
covid_world <- fread("../input/covid-dataset/covid_world_data.csv", stringsAsFactors = FALSE)
pacman::p_load(lubridate, tidyverse, ggplot2, dplyr, data.table, corrplot, naniar, grid, ggthemes, gifski, knitr, RColorBrewer, cowplot, ggrepel, gridExtra, scales, plotly, geosphere)
covid_world <- fread("C:/Roshan/R projects/covid/covid/covid_world_data.csv", stringsAsFactors = FALSE)
head(covid_world, n = 5)
## R Markdown
This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.
pacman::p_load(lubridate, tidyverse, ggplot2, dplyr, data.table, corrplot, naniar, grid, ggthemes, gifski, knitr, RColorBrewer, cowplot, ggrepel, gridExtra, scales, plotly, geosphere)
pacman::p_load(lubridate, tidyverse, ggplot2, dplyr, data.table, corrplot, naniar, grid, ggthemes, gifski, knitr, RColorBrewer, cowplot, ggrepel, gridExtra, scales, plotly, geosphere)
covid_world <- fread("../input/covid-dataset/covid_world_data.csv", stringsAsFactors = FALSE)
covid_world <- fread("C:/Roshan/R projects/covid/covid/covid_world_data.csv", stringsAsFactors = FALSE)
head(covid_world, n = 5)
gg_miss_var(covid_world)
install.packages("kableExtra")
pacman::p_load(lubridate, kableExtra, tidyverse, ggplot2, dplyr, data.table, corrplot, naniar, grid, ggthemes, gifski, knitr, RColorBrewer, cowplot, ggrepel, gridExtra, scales, plotly, geosphere)
#Print
kable(covid_continent,
col.names = c("Continent", "Total COVID Infections"),
align = "cc",
caption = "Table 1 The Total COVID infections in different Continents",
full_width = F,
"hover")
options(warn = -1)
options(scipen = 10000)
options(repr.plot.width = 12.8, repr.plot.height = 9.2)
pacman::p_load(lubridate, kableExtra, tidyverse, ggplot2, dplyr, data.table, corrplot, naniar, grid, ggthemes, gifski, knitr, RColorBrewer, cowplot, ggrepel, gridExtra, scales, plotly, geosphere)
knitr::opts_chunk$set(
fig.retina = 3,
out.width = "100%",
fig.width = 10,
fig.asp = 0.618
)
# Plotting the total covid deaths on different continents
covid_continent_deaths <- covid_world %>%
group_by(continent, date) %>%
summarise(total_deaths = sum(total_deaths, na.rm = TRUE), .groups = "drop") %>%
select(date, continent, total_deaths) %>%
ggplot(aes(x = date, y = total_deaths, group = continent, color = continent)) +
geom_line(size = 1.7, alpha = 0.9) +
labs(title = "Total COVID deaths in different continents so far",
subtitle = "by continent",
y = "Total covid deaths (Log10 transformation)",
x = "",
caption = "© Roshan Rai") +
scale_x_date(date_labels = "%b %Y", date_breaks = "3 month") +
scale_y_continuous(trans = "log10", labels = comma) +
# geom_label_repel(data = covid_continent_selected[covid_continent_selected$date == max(covid_continent_selected$date),],
#                  aes(label = paste0(round(total_cases/1000000, 1), " m"), colour = Group),
#                    hjust = -0.1, fontface = "bold", size = 5.9, alpha = 0.95, show.legend = F) +
scale_colour_brewer(palette = "Set1") +
theme_rs()
install.packages("DT")
pacman::p_load(lubridate, kableExtra, DT, tidyverse, ggplot2, dplyr, data.table, corrplot, naniar, grid, ggthemes, gifski, knitr, RColorBrewer, cowplot, ggrepel, gridExtra, scales, plotly, geosphere)
#Custom theme
theme_rs <- function(){
font <- "Georgia"   #assign font family up front
theme_fivethirtyeight() %+replace%    #replace elements we want to change
theme(
legend.position = "bottom", legend.direction = "horizontal", legend.title = element_blank(),
axis.text = element_text(size = 16),
axis.text.x = element_text(angle = 45, hjust = 0.6),
plot.caption = element_text(color = "gray40", face = "italic", size = 11.5),
legend.text = element_text(size = 16), axis.title = element_text(size = 17),
axis.line = element_line(size = 0.4, colour = "grey10"),
plot.background = element_rect(fill = "#d3dae6"),
legend.background = element_rect(fill = "#d3dae6"),
legend.key = element_rect(fill = "#d3dae6"),
plot.title = element_text(size = 19, colour = "gray11"),
plot.subtitle = element_text(size = 15, colour = "gray36")
)
}
#Plotting the total covid infection on different continents
covid_continent_infections <- covid_world %>%
group_by(continent, date) %>%
summarise(total_cases = sum(total_cases, na.rm = TRUE), .groups = "drop") %>%
select(date, continent, total_cases) %>%
ggplot(aes(x = date, y = total_cases, group = continent, color = continent)) +
geom_line(size = 1.7, alpha = 0.8) +
labs(title = "Total COVID infections in different continents so far",
subtitle = "by continent",
y = "Total covid infections (Log10 transformation)",
x = "",
caption = "© Roshan Rai") +
scale_x_date(date_labels = "%b %Y", date_breaks = "3 month") +
scale_y_continuous(trans = "log10", labels = comma) +
geom_vline(xintercept = as.Date("2020-03-11"), linetype = "longdash", size = 0.35, col = "gray30") +
annotate("text", x = as.Date("2020-06-29"), y = 210, label = "WHO announces \n pandemic", size = 5.2)+
annotate(geom = "curve", x = as.Date("2020-04-25"),
y =132, xend = as.Date("2020-03-14"),
yend = 30, curvature = -0.3, arrow = arrow(length = unit(5, "mm")))+
scale_colour_brewer(palette = "Set1") +
theme_rs()
covid_continent_infections
install.packages("formattable")
